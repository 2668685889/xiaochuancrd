# 智能助手功能使用说明

## 功能概述

智能助手是基于大模型的智能问数系统，支持自然语言查询进销存数据。用户可以通过自然语言提问，系统会自动解析问题并返回相应的数据结果。

## 主要功能

### 1. 智能数据查询
- **自然语言查询**: 支持中文自然语言查询产品、销售、采购、库存等数据
- **多数据源支持**: 支持查询产品数据、销售数据、采购数据、库存数据
- **智能解析**: 自动识别用户意图，生成相应的SQL查询

### 2. 对话管理
- **会话管理**: 支持多轮对话，保持上下文连贯性
- **历史记录**: 自动保存对话历史，方便回溯
- **文件上传**: 支持上传文件进行分析和查询

### 3. 数据可视化
- **图表展示**: 查询结果支持图表可视化
- **数据导出**: 支持查询结果导出为Excel/CSV格式

## 使用方式

### 访问路径
1. 登录系统后，在左侧菜单栏点击"智能助手"
2. 进入智能助手页面
3. 在输入框中输入您的问题

### 示例问题
- "显示最近一个月的销售数据"
- "哪些产品的库存低于安全库存"
- "上个月的采购总额是多少"
- "销售最好的前10个产品是哪些"

## 数据源说明

### 可查询的数据源
1. **产品数据**: 产品基本信息、分类、规格等
2. **销售数据**: 销售订单、销售明细、客户信息等
3. **采购数据**: 采购订单、供应商信息、采购明细等
4. **库存数据**: 库存记录、库存变动、库存预警等

### 数据更新频率
- 实时数据：查询时获取最新数据
- 历史数据：支持查询历史时间段的数据

## 技术实现

### 后端架构
- **框架**: FastAPI + SQLAlchemy
- **数据库**: MySQL 8.0+
- **AI模型**: 集成大语言模型进行自然语言处理
- **API接口**: RESTful API设计

### 前端实现
- **框架**: React + TypeScript
- **UI组件**: Tailwind CSS + Shadcn/ui
- **状态管理**: Zustand
- **HTTP客户端**: Axios

## 权限控制

### 访问权限
- **所有用户**: 可以访问智能助手功能
- **数据权限**: 根据用户角色限制可查询的数据范围

### 操作权限
- **查询权限**: 支持数据查询和分析
- **导出权限**: 支持数据导出功能
- **文件上传**: 支持上传文件进行分析

## 常见问题

### Q: 智能助手支持哪些类型的查询？
A: 支持产品、销售、采购、库存相关的数据查询，包括统计、分析、对比等类型的问题。

### Q: 查询结果的准确性如何保证？
A: 系统会验证生成的SQL查询语句，确保查询逻辑正确，同时提供数据预览功能供用户确认。

### Q: 是否支持多语言查询？
A: 目前主要支持中文自然语言查询，后续会考虑支持英文等其他语言。

### Q: 如何处理复杂的多表关联查询？
A: 系统会自动识别查询意图，生成优化的多表关联查询语句，确保查询效率。

## 性能优化

### 查询优化
- **SQL优化**: 自动生成优化的SQL查询语句
- **缓存机制**: 常用查询结果缓存
- **分页查询**: 大数据量查询支持分页

### 响应速度
- **API响应**: 平均响应时间 < 2秒
- **数据加载**: 支持异步数据加载
- **错误处理**: 完善的错误处理和重试机制

## 维护和支持

### 系统维护
- **日志记录**: 完整的操作日志记录
- **性能监控**: 实时监控系统性能
- **错误报警**: 异常情况自动报警

### 技术支持
- **问题反馈**: 支持用户问题反馈
- **功能更新**: 定期更新和优化功能
- **文档维护**: 及时更新使用文档

## 版本历史

### v1.0.0 (当前版本)
- ✅ 基础智能查询功能
- ✅ 多数据源支持
- ✅ 对话管理功能
- ✅ 文件上传支持
- ✅ 数据可视化展示

### 未来规划
- 🔄 支持更多数据源
- 🔄 增强自然语言理解能力
- 🔄 支持自定义查询模板
- 🔄 移动端适配优化

---

*最后更新: 2024年*  
*文档版本: v1.0.0*